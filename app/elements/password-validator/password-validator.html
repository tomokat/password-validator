<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="../../bower_components/core-tooltip/core-tooltip.html">

<link rel="import" href="../../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">

<polymer-element name="password-validator" 
  attributes="minLength, minLowercase, minUppercase, minNumber, minSpecialChar, specialChars, infoStyle">
  
  <template>

    <link rel="stylesheet" href="password-validator.css">
    
    <paper-input type="password" label="Password:" inputValue="{{value}}" 
      floatingLabel=true>
    </paper-input>
    
    <template if="{{infoStyle === 'tooltip'}}">
      <section>
        <core-tooltip position="right">
          <core-icon-button icon="help"></core-icon-button>
          <div tip>
            <template repeat="{{rule in rules}}">
              <div>
                <paper-checkbox checked={{rule.flag}} disabled></paper-checkbox>
                {{rule.text}}
              </div>
            </template>    
          </div>
        </core-tooltip>
      </section>
    </template>
    
    <template if="{{infoStyle !== 'tooltip'}}">
      <section>
        <template repeat="{{rule in rules}}">
          <div>
            <paper-checkbox checked={{rule.flag}} disabled></paper-checkbox>
            {{rule.text}}
          </div>
        </template>
      </section>
    </template>

    <template if="{{showValidity}}">
      <hr/>
      <paper-checkbox checked={{isValidPassword}} disabled></paper-checkbox>
      Valid password
      <hr/>
    </template>

  </template>

  <script src='password-validator.js'></script>

</polymer-element>